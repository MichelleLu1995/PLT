/usr/bin/lli

###### Testing test-add1
../JSTEM.native -c compiler_tests/test-add1.JSTEM ../stdlib.JSTEM > test-add1.ll
llc -filetype=obj test-add1.ll > test-add1.o
g++ test-add1.o > a.out
./a.out > test-add1.out
diff -b test-add1.out compiler_tests/test-add1.out > test-add1.diff
###### SUCCESS

###### Testing test-add2
../JSTEM.native -c compiler_tests/test-add2.JSTEM ../stdlib.JSTEM > test-add2.ll
Fatal error: exception Failure("illegal actual argument found float expected int in add(17.1, 25.1)")
###### FAILURE

###### Testing test-add3
../JSTEM.native -c compiler_tests/test-add3.JSTEM ../stdlib.JSTEM > test-add3.ll
Fatal error: exception Parsing.Parse_error
###### FAILURE

###### Testing test-arith1
../JSTEM.native -c compiler_tests/test-arith1.JSTEM ../stdlib.JSTEM > test-arith1.ll
llc -filetype=obj test-arith1.ll > test-arith1.o
g++ test-arith1.o > a.out
./a.out > test-arith1.out
diff -b test-arith1.out compiler_tests/test-arith1.out > test-arith1.diff
###### SUCCESS

###### Testing test-arith2
../JSTEM.native -c compiler_tests/test-arith2.JSTEM ../stdlib.JSTEM > test-arith2.ll
llc -filetype=obj test-arith2.ll > test-arith2.o
g++ test-arith2.o > a.out
./a.out > test-arith2.out
diff -b test-arith2.out compiler_tests/test-arith2.out > test-arith2.diff
###### SUCCESS

###### Testing test-arith3
../JSTEM.native -c compiler_tests/test-arith3.JSTEM ../stdlib.JSTEM > test-arith3.ll
llc -filetype=obj test-arith3.ll > test-arith3.o
g++ test-arith3.o > a.out
./a.out > test-arith3.out
diff -b test-arith3.out compiler_tests/test-arith3.out > test-arith3.diff
###### SUCCESS

###### Testing test-arith4
../JSTEM.native -c compiler_tests/test-arith4.JSTEM ../stdlib.JSTEM > test-arith4.ll
llc -filetype=obj test-arith4.ll > test-arith4.o
g++ test-arith4.o > a.out
./a.out > test-arith4.out
diff -b test-arith4.out compiler_tests/test-arith4.out > test-arith4.diff
###### SUCCESS

###### Testing test-fib
../JSTEM.native -c compiler_tests/test-fib.JSTEM ../stdlib.JSTEM > test-fib.ll
llc -filetype=obj test-fib.ll > test-fib.o
g++ test-fib.o > a.out
./a.out > test-fib.out
diff -b test-fib.out compiler_tests/test-fib.out > test-fib.diff
###### SUCCESS

###### Testing test-for1
../JSTEM.native -c compiler_tests/test-for1.JSTEM ../stdlib.JSTEM > test-for1.ll
llc -filetype=obj test-for1.ll > test-for1.o
g++ test-for1.o > a.out
./a.out > test-for1.out
diff -b test-for1.out compiler_tests/test-for1.out > test-for1.diff
###### SUCCESS

###### Testing test-func1
../JSTEM.native -c compiler_tests/test-func1.JSTEM ../stdlib.JSTEM > test-func1.ll
llc -filetype=obj test-func1.ll > test-func1.o
g++ test-func1.o > a.out
./a.out > test-func1.out
diff -b test-func1.out compiler_tests/test-func1.out > test-func1.diff
###### SUCCESS

###### Testing test-func2
../JSTEM.native -c compiler_tests/test-func2.JSTEM ../stdlib.JSTEM > test-func2.ll
llc -filetype=obj test-func2.ll > test-func2.o
g++ test-func2.o > a.out
./a.out > test-func2.out
diff -b test-func2.out compiler_tests/test-func2.out > test-func2.diff
###### SUCCESS

###### Testing test-func3
../JSTEM.native -c compiler_tests/test-func3.JSTEM ../stdlib.JSTEM > test-func3.ll
llc -filetype=obj test-func3.ll > test-func3.o
g++ test-func3.o > a.out
./a.out > test-func3.out
diff -b test-func3.out compiler_tests/test-func3.out > test-func3.diff
###### SUCCESS

###### Testing test-func4
../JSTEM.native -c compiler_tests/test-func4.JSTEM ../stdlib.JSTEM > test-func4.ll
llc -filetype=obj test-func4.ll > test-func4.o
g++ test-func4.o > a.out
./a.out > test-func4.out
diff -b test-func4.out compiler_tests/test-func4.out > test-func4.diff
###### SUCCESS

###### Testing test-func5
../JSTEM.native -c compiler_tests/test-func5.JSTEM ../stdlib.JSTEM > test-func5.ll
llc -filetype=obj test-func5.ll > test-func5.o
g++ test-func5.o > a.out
./a.out > test-func5.out
diff -b test-func5.out compiler_tests/test-func5.out > test-func5.diff
###### SUCCESS

###### Testing test-func6
../JSTEM.native -c compiler_tests/test-func6.JSTEM ../stdlib.JSTEM > test-func6.ll
llc -filetype=obj test-func6.ll > test-func6.o
g++ test-func6.o > a.out
./a.out > test-func6.out
diff -b test-func6.out compiler_tests/test-func6.out > test-func6.diff
###### SUCCESS

###### Testing test-func7
../JSTEM.native -c compiler_tests/test-func7.JSTEM ../stdlib.JSTEM > test-func7.ll
llc -filetype=obj test-func7.ll > test-func7.o
g++ test-func7.o > a.out
./a.out > test-func7.out
diff -b test-func7.out compiler_tests/test-func7.out > test-func7.diff
###### SUCCESS

###### Testing test-global1
../JSTEM.native -c compiler_tests/test-global1.JSTEM ../stdlib.JSTEM > test-global1.ll
llc -filetype=obj test-global1.ll > test-global1.o
g++ test-global1.o > a.out
./a.out > test-global1.out
diff -b test-global1.out compiler_tests/test-global1.out > test-global1.diff
###### SUCCESS

###### Testing test-global2
../JSTEM.native -c compiler_tests/test-global2.JSTEM ../stdlib.JSTEM > test-global2.ll
llc -filetype=obj test-global2.ll > test-global2.o
g++ test-global2.o > a.out
./a.out > test-global2.out
diff -b test-global2.out compiler_tests/test-global2.out > test-global2.diff
###### SUCCESS

###### Testing test-global3
../JSTEM.native -c compiler_tests/test-global3.JSTEM ../stdlib.JSTEM > test-global3.ll
llc -filetype=obj test-global3.ll > test-global3.o
g++ test-global3.o > a.out
./a.out > test-global3.out
diff -b test-global3.out compiler_tests/test-global3.out > test-global3.diff
###### SUCCESS

###### Testing test-if1
../JSTEM.native -c compiler_tests/test-if1.JSTEM ../stdlib.JSTEM > test-if1.ll
llc -filetype=obj test-if1.ll > test-if1.o
g++ test-if1.o > a.out
./a.out > test-if1.out
diff -b test-if1.out compiler_tests/test-if1.out > test-if1.diff
###### SUCCESS

###### Testing test-if2
../JSTEM.native -c compiler_tests/test-if2.JSTEM ../stdlib.JSTEM > test-if2.ll
llc -filetype=obj test-if2.ll > test-if2.o
g++ test-if2.o > a.out
./a.out > test-if2.out
diff -b test-if2.out compiler_tests/test-if2.out > test-if2.diff
###### SUCCESS

###### Testing test-if3
../JSTEM.native -c compiler_tests/test-if3.JSTEM ../stdlib.JSTEM > test-if3.ll
llc -filetype=obj test-if3.ll > test-if3.o
g++ test-if3.o > a.out
./a.out > test-if3.out
diff -b test-if3.out compiler_tests/test-if3.out > test-if3.diff
###### SUCCESS

###### Testing test-if4
../JSTEM.native -c compiler_tests/test-if4.JSTEM ../stdlib.JSTEM > test-if4.ll
llc -filetype=obj test-if4.ll > test-if4.o
g++ test-if4.o > a.out
./a.out > test-if4.out
diff -b test-if4.out compiler_tests/test-if4.out > test-if4.diff
###### SUCCESS

###### Testing test-if5
../JSTEM.native -c compiler_tests/test-if5.JSTEM ../stdlib.JSTEM > test-if5.ll
llc -filetype=obj test-if5.ll > test-if5.o
g++ test-if5.o > a.out
./a.out > test-if5.out
diff -b test-if5.out compiler_tests/test-if5.out > test-if5.diff
###### SUCCESS

###### Testing test-local1
../JSTEM.native -c compiler_tests/test-local1.JSTEM ../stdlib.JSTEM > test-local1.ll
llc -filetype=obj test-local1.ll > test-local1.o
g++ test-local1.o > a.out
./a.out > test-local1.out
diff -b test-local1.out compiler_tests/test-local1.out > test-local1.diff
###### SUCCESS

###### Testing test-local2
../JSTEM.native -c compiler_tests/test-local2.JSTEM ../stdlib.JSTEM > test-local2.ll
llc -filetype=obj test-local2.ll > test-local2.o
g++ test-local2.o > a.out
./a.out > test-local2.out
diff -b test-local2.out compiler_tests/test-local2.out > test-local2.diff
###### SUCCESS

###### Testing test-matrixaccess1
../JSTEM.native -c compiler_tests/test-matrixaccess1.JSTEM ../stdlib.JSTEM > test-matrixaccess1.ll
llc -filetype=obj test-matrixaccess1.ll > test-matrixaccess1.o
g++ test-matrixaccess1.o > a.out
./a.out > test-matrixaccess1.out
diff -b test-matrixaccess1.out compiler_tests/test-matrixaccess1.out > test-matrixaccess1.diff
###### SUCCESS

###### Testing test-matrixrowaccess
../JSTEM.native -c compiler_tests/test-matrixrowaccess.JSTEM ../stdlib.JSTEM > test-matrixrowaccess.ll
llc -filetype=obj test-matrixrowaccess.ll > test-matrixrowaccess.o
g++ test-matrixrowaccess.o > a.out
./a.out > test-matrixrowaccess.out
diff -b test-matrixrowaccess.out compiler_tests/test-matrixrowaccess.out > test-matrixrowaccess.diff
###### SUCCESS

###### Testing test-ops1
../JSTEM.native -c compiler_tests/test-ops1.JSTEM ../stdlib.JSTEM > test-ops1.ll
llc -filetype=obj test-ops1.ll > test-ops1.o
g++ test-ops1.o > a.out
./a.out > test-ops1.out
diff -b test-ops1.out compiler_tests/test-ops1.out > test-ops1.diff
###### SUCCESS

###### Testing test-ops2
../JSTEM.native -c compiler_tests/test-ops2.JSTEM ../stdlib.JSTEM > test-ops2.ll
llc -filetype=obj test-ops2.ll > test-ops2.o
g++ test-ops2.o > a.out
./a.out > test-ops2.out
diff -b test-ops2.out compiler_tests/test-ops2.out > test-ops2.diff
###### SUCCESS

###### Testing test-rowaccess1
../JSTEM.native -c compiler_tests/test-rowaccess1.JSTEM ../stdlib.JSTEM > test-rowaccess1.ll
Fatal error: exception Failure("illegal character .")
###### FAILURE

###### Testing test-rowaccess
../JSTEM.native -c compiler_tests/test-rowaccess.JSTEM ../stdlib.JSTEM > test-rowaccess.ll
llc -filetype=obj test-rowaccess.ll > test-rowaccess.o
g++ test-rowaccess.o > a.out
./a.out > test-rowaccess.out
diff -b test-rowaccess.out compiler_tests/test-rowaccess.out > test-rowaccess.diff
###### SUCCESS

###### Testing test-stringprint
../JSTEM.native -c compiler_tests/test-stringprint.JSTEM ../stdlib.JSTEM > test-stringprint.ll
llc -filetype=obj test-stringprint.ll > test-stringprint.o
g++ test-stringprint.o > a.out
./a.out > test-stringprint.out
diff -b test-stringprint.out compiler_tests/test-stringprint.out > test-stringprint.diff
###### SUCCESS

###### Testing test-tupleaccess
../JSTEM.native -c compiler_tests/test-tupleaccess.JSTEM ../stdlib.JSTEM > test-tupleaccess.ll
llc -filetype=obj test-tupleaccess.ll > test-tupleaccess.o
g++ test-tupleaccess.o > a.out
./a.out > test-tupleaccess.out
diff -b test-tupleaccess.out compiler_tests/test-tupleaccess.out > test-tupleaccess.diff
###### SUCCESS

###### Testing test-var1
../JSTEM.native -c compiler_tests/test-var1.JSTEM ../stdlib.JSTEM > test-var1.ll
llc -filetype=obj test-var1.ll > test-var1.o
g++ test-var1.o > a.out
./a.out > test-var1.out
diff -b test-var1.out compiler_tests/test-var1.out > test-var1.diff
###### SUCCESS

###### Testing test-var2
../JSTEM.native -c compiler_tests/test-var2.JSTEM ../stdlib.JSTEM > test-var2.ll
llc -filetype=obj test-var2.ll > test-var2.o
g++ test-var2.o > a.out
./a.out > test-var2.out
diff -b test-var2.out compiler_tests/test-var2.out > test-var2.diff
###### SUCCESS

###### Testing test-while1
../JSTEM.native -c compiler_tests/test-while1.JSTEM ../stdlib.JSTEM > test-while1.ll
llc -filetype=obj test-while1.ll > test-while1.o
g++ test-while1.o > a.out
./a.out > test-while1.out
diff -b test-while1.out compiler_tests/test-while1.out > test-while1.diff
###### SUCCESS

###### Testing test-while2
../JSTEM.native -c compiler_tests/test-while2.JSTEM ../stdlib.JSTEM > test-while2.ll
llc -filetype=obj test-while2.ll > test-while2.o
g++ test-while2.o > a.out
./a.out > test-while2.out
diff -b test-while2.out compiler_tests/test-while2.out > test-while2.diff
###### SUCCESS

###### Testing fail-assign1
../JSTEM.native -c compiler_tests/fail-assign1.JSTEM ../stdlib.JSTEM 2> fail-assign1.err >> testall.log
diff -b fail-assign1.err compiler_tests/fail-assign1.err > fail-assign1.diff
###### SUCCESS

###### Testing fail-assign2
../JSTEM.native -c compiler_tests/fail-assign2.JSTEM ../stdlib.JSTEM 2> fail-assign2.err >> testall.log
diff -b fail-assign2.err compiler_tests/fail-assign2.err > fail-assign2.diff
###### SUCCESS

###### Testing fail-assign3
../JSTEM.native -c compiler_tests/fail-assign3.JSTEM ../stdlib.JSTEM 2> fail-assign3.err >> testall.log
diff -b fail-assign3.err compiler_tests/fail-assign3.err > fail-assign3.diff
###### SUCCESS

###### Testing fail-dead1
../JSTEM.native -c compiler_tests/fail-dead1.JSTEM ../stdlib.JSTEM 2> fail-dead1.err >> testall.log
diff -b fail-dead1.err compiler_tests/fail-dead1.err > fail-dead1.diff
###### SUCCESS

###### Testing fail-dead2
../JSTEM.native -c compiler_tests/fail-dead2.JSTEM ../stdlib.JSTEM 2> fail-dead2.err >> testall.log
diff -b fail-dead2.err compiler_tests/fail-dead2.err > fail-dead2.diff
###### SUCCESS

###### Testing fail-expr1
../JSTEM.native -c compiler_tests/fail-expr1.JSTEM ../stdlib.JSTEM 2> fail-expr1.err >> testall.log
diff -b fail-expr1.err compiler_tests/fail-expr1.err > fail-expr1.diff
###### SUCCESS

###### Testing fail-expr2
../JSTEM.native -c compiler_tests/fail-expr2.JSTEM ../stdlib.JSTEM 2> fail-expr2.err >> testall.log
diff -b fail-expr2.err compiler_tests/fail-expr2.err > fail-expr2.diff
###### SUCCESS

###### Testing fail-for1
../JSTEM.native -c compiler_tests/fail-for1.JSTEM ../stdlib.JSTEM 2> fail-for1.err >> testall.log
diff -b fail-for1.err compiler_tests/fail-for1.err > fail-for1.diff
###### SUCCESS

###### Testing fail-for2
../JSTEM.native -c compiler_tests/fail-for2.JSTEM ../stdlib.JSTEM 2> fail-for2.err >> testall.log
diff -b fail-for2.err compiler_tests/fail-for2.err > fail-for2.diff
###### SUCCESS

###### Testing fail-for3
../JSTEM.native -c compiler_tests/fail-for3.JSTEM ../stdlib.JSTEM 2> fail-for3.err >> testall.log
diff -b fail-for3.err compiler_tests/fail-for3.err > fail-for3.diff
###### SUCCESS

###### Testing fail-for4
../JSTEM.native -c compiler_tests/fail-for4.JSTEM ../stdlib.JSTEM 2> fail-for4.err >> testall.log
diff -b fail-for4.err compiler_tests/fail-for4.err > fail-for4.diff
###### SUCCESS

###### Testing fail-for5
../JSTEM.native -c compiler_tests/fail-for5.JSTEM ../stdlib.JSTEM 2> fail-for5.err >> testall.log
diff -b fail-for5.err compiler_tests/fail-for5.err > fail-for5.diff
###### SUCCESS

###### Testing fail-func1
../JSTEM.native -c compiler_tests/fail-func1.JSTEM ../stdlib.JSTEM 2> fail-func1.err >> testall.log
diff -b fail-func1.err compiler_tests/fail-func1.err > fail-func1.diff
###### SUCCESS

###### Testing fail-func2
../JSTEM.native -c compiler_tests/fail-func2.JSTEM ../stdlib.JSTEM 2> fail-func2.err >> testall.log
diff -b fail-func2.err compiler_tests/fail-func2.err > fail-func2.diff
###### SUCCESS

###### Testing fail-func3
../JSTEM.native -c compiler_tests/fail-func3.JSTEM ../stdlib.JSTEM 2> fail-func3.err >> testall.log
diff -b fail-func3.err compiler_tests/fail-func3.err > fail-func3.diff
###### SUCCESS

###### Testing fail-func4
../JSTEM.native -c compiler_tests/fail-func4.JSTEM ../stdlib.JSTEM 2> fail-func4.err >> testall.log
diff -b fail-func4.err compiler_tests/fail-func4.err > fail-func4.diff
###### SUCCESS

###### Testing fail-func5
../JSTEM.native -c compiler_tests/fail-func5.JSTEM ../stdlib.JSTEM 2> fail-func5.err >> testall.log
diff -b fail-func5.err compiler_tests/fail-func5.err > fail-func5.diff
###### SUCCESS

###### Testing fail-func6
../JSTEM.native -c compiler_tests/fail-func6.JSTEM ../stdlib.JSTEM 2> fail-func6.err >> testall.log
diff -b fail-func6.err compiler_tests/fail-func6.err > fail-func6.diff
###### SUCCESS

###### Testing fail-func7
../JSTEM.native -c compiler_tests/fail-func7.JSTEM ../stdlib.JSTEM 2> fail-func7.err >> testall.log
diff -b fail-func7.err compiler_tests/fail-func7.err > fail-func7.diff
###### SUCCESS

###### Testing fail-func8
../JSTEM.native -c compiler_tests/fail-func8.JSTEM ../stdlib.JSTEM 2> fail-func8.err >> testall.log
diff -b fail-func8.err compiler_tests/fail-func8.err > fail-func8.diff
###### SUCCESS

###### Testing fail-func9
../JSTEM.native -c compiler_tests/fail-func9.JSTEM ../stdlib.JSTEM 2> fail-func9.err >> testall.log
diff -b fail-func9.err compiler_tests/fail-func9.err > fail-func9.diff
###### SUCCESS

###### Testing fail-global1
../JSTEM.native -c compiler_tests/fail-global1.JSTEM ../stdlib.JSTEM 2> fail-global1.err >> testall.log
diff -b fail-global1.err compiler_tests/fail-global1.err > fail-global1.diff
###### SUCCESS

###### Testing fail-global2
../JSTEM.native -c compiler_tests/fail-global2.JSTEM ../stdlib.JSTEM 2> fail-global2.err >> testall.log
diff -b fail-global2.err compiler_tests/fail-global2.err > fail-global2.diff
###### SUCCESS

###### Testing fail-if1
../JSTEM.native -c compiler_tests/fail-if1.JSTEM ../stdlib.JSTEM 2> fail-if1.err >> testall.log
diff -b fail-if1.err compiler_tests/fail-if1.err > fail-if1.diff
###### SUCCESS

###### Testing fail-if2
../JSTEM.native -c compiler_tests/fail-if2.JSTEM ../stdlib.JSTEM 2> fail-if2.err >> testall.log
diff -b fail-if2.err compiler_tests/fail-if2.err > fail-if2.diff
###### SUCCESS

###### Testing fail-if3
../JSTEM.native -c compiler_tests/fail-if3.JSTEM ../stdlib.JSTEM 2> fail-if3.err >> testall.log
diff -b fail-if3.err compiler_tests/fail-if3.err > fail-if3.diff
###### SUCCESS

###### Testing fail-nomain
../JSTEM.native -c compiler_tests/fail-nomain.JSTEM ../stdlib.JSTEM 2> fail-nomain.err >> testall.log
diff -b fail-nomain.err compiler_tests/fail-nomain.err > fail-nomain.diff
###### SUCCESS

###### Testing fail-return1
../JSTEM.native -c compiler_tests/fail-return1.JSTEM ../stdlib.JSTEM 2> fail-return1.err >> testall.log
diff -b fail-return1.err compiler_tests/fail-return1.err > fail-return1.diff
###### SUCCESS

###### Testing fail-return2
../JSTEM.native -c compiler_tests/fail-return2.JSTEM ../stdlib.JSTEM 2> fail-return2.err >> testall.log
diff -b fail-return2.err compiler_tests/fail-return2.err > fail-return2.diff
###### SUCCESS

###### Testing fail-rowaccess1
../JSTEM.native -c compiler_tests/fail-rowaccess1.JSTEM ../stdlib.JSTEM 2> fail-rowaccess1.err >> testall.log
diff -b fail-rowaccess1.err compiler_tests/fail-rowaccess1.err > fail-rowaccess1.diff
FAILED fail-rowaccess1.err differs from compiler_tests/fail-rowaccess1.err
###### FAILED

###### Testing fail-while1
../JSTEM.native -c compiler_tests/fail-while1.JSTEM ../stdlib.JSTEM 2> fail-while1.err >> testall.log
diff -b fail-while1.err compiler_tests/fail-while1.err > fail-while1.diff
###### SUCCESS

###### Testing fail-while2
../JSTEM.native -c compiler_tests/fail-while2.JSTEM ../stdlib.JSTEM 2> fail-while2.err >> testall.log
diff -b fail-while2.err compiler_tests/fail-while2.err > fail-while2.diff
###### SUCCESS
